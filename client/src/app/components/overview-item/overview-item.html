<div class="group overflow-hidden shadow-xl bg-gradient-to-br from-emerald-50/95 to-green-50/95 dark:from-emerald-900/95 dark:to-green-900/95 backdrop-blur-sm border border-emerald-200/30 dark:border-emerald-700/30 flex flex-col h-full rounded-xl transition-all duration-300 ease-in-out hover:shadow-2xl hover:scale-[1.02] hover:border-emerald-300/50 dark:hover:border-emerald-600/50">
    <div class="relative overflow-hidden rounded-t-xl">
        <img [src]="data.imageUrl" alt="" class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105">
        <div class="absolute inset-0 bg-gradient-to-t from-emerald-900/80 via-emerald-900/20 to-transparent"></div>
        <div class="absolute bottom-0 left-0 right-0 p-4">
            <div class="flex items-center text-sm text-emerald-100/90 backdrop-blur-sm bg-emerald-900/20 rounded-lg px-3 py-1">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                </svg>
                <span>{{ data.locationName }}</span>
                <span class="mx-2 text-emerald-300">•</span>
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2-2z"/>
                </svg>
                <span>{{ data.lastWateredDateTime | date: 'dd.MM.yyyy' }}</span>
            </div>
        </div>
    </div>
    
    <div class="flex-1 p-4 bg-gradient-to-b from-transparent to-emerald-50/50 dark:to-emerald-900/50">
        <div class="flex">
            <h3 class="text-xl font-bold text-white mb-5 drop-shadow-lg">{{ data.title }}</h3>
        </div>

        <div class="flex gap-2 items-end">

            <button (click)="openModal()" (keyup.enter)="openModal()" (keyup.space)="openModal()" tabindex="0"
                class="group/btn flex-1 inline-flex items-center justify-center px-4 py-3 text-sm font-semibold bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-lg border border-emerald-500/20 hover:from-emerald-500 hover:to-emerald-600 focus:ring-2 focus:ring-emerald-400 focus:ring-offset-2 shadow-lg backdrop-blur-sm transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-xl">
                <svg class="w-4 h-4 mr-2 transition-transform duration-200 group-hover/btn:scale-110" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"/>
                </svg>
                <span>Gießen</span>
            </button>

            <a [routerLink]="plantLink"
                class="group/btn flex-1 inline-flex items-center justify-center px-4 py-3 text-sm font-semibold bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg border border-green-500/20 hover:from-green-500 hover:to-green-600 focus:ring-2 focus:ring-green-400 focus:ring-offset-2 shadow-lg backdrop-blur-sm transition-all duration-200 ease-in-out transform hover:scale-105 hover:shadow-xl">
                <svg class="w-4 h-4 mr-2 transition-transform duration-200 group-hover/btn:scale-110" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <span>Details</span>
            </a>
        </div>
    </div>
</div>

<app-watering-modal [isOpen]="isModalOpen" [data]="data" (modalClose)="closeModal()"></app-watering-modal>