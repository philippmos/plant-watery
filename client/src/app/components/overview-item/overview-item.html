<div class="overflow-hidden shadow-lg bg-white/90 dark:bg-gray-900/80 flex flex-col h-full rounded-xl">
    <img [src]="data.imageUrl" alt="" class="w-full h-48 object-cover">
    <div class="flex-1 flex flex-col justify-end p-4 bg-gradient-to-t from-black/70 to-transparent">
        <div class="flex items-center text-sm text-white/80 mb-2">
            <span>{{ data.locationName }}</span>
            <span class="mx-2">|</span>
            <span>{{ data.latestWateringDate | date: 'dd.MM.yyyy HH:mm' }}</span>
        </div>
        <h3 class="text-lg font-semibold text-white mb-1">{{ data.title }}</h3>
    </div>
    <div class="overflow-hidden flex flex-row">

        @if(auth.isAuthenticated$ | async) {
            <span (click)="openModal()" (keyup.enter)="openModal()" (keyup.space)="openModal()" tabindex="0" role="button"
                class="inline-flex items-center justify-center w-1/2 px-4 py-4 text-sm font-semibold bg-blue-700/100 text-white hover:bg-blue-600 focus-visible:ring-2 focus-visible:ring-blue-400 shadow-lg cursor-pointer">
                <span>Gießen</span>
            </span>
        }
        @else {
            <span class="inline-flex items-center justify-center w-1/2 px-4 py-4 text-sm font-semibold bg-blue-400/60 text-white/60 cursor-not-allowed opacity-60 shadow-lg" aria-disabled="true" tabindex="-1">
                <span>Gießen</span>
            </span>
        }

        <a [routerLink]="plantLink"
            class="inline-flex items-center justify-center w-1/2 px-4 py-4 text-sm font-semibold bg-green-700/100 text-white hover:bg-green-600 focus-visible:ring-2 focus-visible:ring-green-400 shadow-lg">
            <span>Details</span>
        </a>
    </div>
</div>

<app-watering-modal [isOpen]="isModalOpen" [data]="data" (modalClose)="closeModal()"></app-watering-modal>